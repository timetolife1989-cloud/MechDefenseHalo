{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Statistics Data Schema",
  "description": "Schema for MechDefenseHalo statistics tracking system",
  "type": "object",
  "properties": {
    "version": {
      "type": "integer",
      "description": "Schema version number"
    },
    "last_updated": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of last update"
    },
    "combat": {
      "type": "object",
      "properties": {
        "TotalKills": { "type": "integer", "minimum": 0 },
        "KillsByEnemyType": { 
          "type": "object",
          "additionalProperties": { "type": "integer" }
        },
        "BossesDefeated": { "type": "integer", "minimum": 0 },
        "DeathCount": { "type": "integer", "minimum": 0 },
        "TotalDamageDealt": { "type": "integer", "minimum": 0 },
        "TotalDamageTaken": { "type": "integer", "minimum": 0 },
        "WeakPointHits": { "type": "integer", "minimum": 0 },
        "AccuracyPercentage": { "type": "number", "minimum": 0, "maximum": 100 },
        "KillsByWeapon": {
          "type": "object",
          "additionalProperties": { "type": "integer" }
        },
        "ShotsFired": { "type": "integer", "minimum": 0 },
        "ShotsHit": { "type": "integer", "minimum": 0 },
        "DronesDeployed": { "type": "integer", "minimum": 0 },
        "DroneKills": { "type": "integer", "minimum": 0 },
        "HighestWaveReached": { "type": "integer", "minimum": 0 },
        "FastestBossKill": { "type": "number", "minimum": 0 },
        "LongestKillStreak": { "type": "integer", "minimum": 0 }
      },
      "required": ["TotalKills", "BossesDefeated", "DeathCount"]
    },
    "economy": {
      "type": "object",
      "properties": {
        "TotalCreditsEarned": { "type": "integer", "minimum": 0 },
        "TotalCreditsSpent": { "type": "integer", "minimum": 0 },
        "TotalCoresEarned": { "type": "integer", "minimum": 0 },
        "TotalCoresSpent": { "type": "integer", "minimum": 0 },
        "ItemsLooted": { "type": "integer", "minimum": 0 },
        "ItemsCrafted": { "type": "integer", "minimum": 0 },
        "ItemsSalvaged": { "type": "integer", "minimum": 0 },
        "ItemsByRarity": {
          "type": "object",
          "additionalProperties": { "type": "integer" }
        },
        "ShopPurchases": { "type": "integer", "minimum": 0 },
        "TotalSpentInShop": { "type": "integer", "minimum": 0 },
        "ChestsOpened": { "type": "integer", "minimum": 0 },
        "LegendariesObtained": { "type": "integer", "minimum": 0 }
      },
      "required": ["TotalCreditsEarned", "ItemsLooted"]
    },
    "session": {
      "type": "object",
      "properties": {
        "TotalPlaytimeSeconds": { "type": "number", "minimum": 0 },
        "TotalSessions": { "type": "integer", "minimum": 0 },
        "FirstPlayedDate": { "type": "string", "format": "date-time" },
        "LastPlayedDate": { "type": "string", "format": "date-time" },
        "LongestSessionSeconds": { "type": "number", "minimum": 0 },
        "DailyLoginStreak": { "type": "integer", "minimum": 0 },
        "LastLoginDate": { "type": "string", "format": "date-time" },
        "CurrentSessionTime": { "type": "number", "minimum": 0 },
        "CurrentSessionKills": { "type": "integer", "minimum": 0 },
        "CurrentSessionWaves": { "type": "integer", "minimum": 0 }
      },
      "required": ["TotalPlaytimeSeconds", "TotalSessions"]
    }
  },
  "required": ["version", "last_updated", "combat", "economy", "session"]
}
